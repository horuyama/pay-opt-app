<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>Pay Optimizer Map</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="anonymous">
  <link rel="stylesheet" href="style.css?v=evt1">
  <style>html,body{height:100%;margin:0}#map{position:absolute;inset:96px 0 0 0}</style>
</head>
<body>
  <header class="bar">
    <div class="title">Pay Optimizer Map</div>
    <div class="actions">
      <button id="scan">周辺をスキャン</button>
      <button id="loc">現在地</button>
      <label class="remote">
        Remote JSON / ICS:
        <input id="remoteUrl" placeholder="https://.../events.json or .ics">
        <button id="saveRemote">保存</button>
      </label>
    </div>
  </header>
  <section class="filters">
    <label><input type="checkbox" class="cat" value="convenience_store" checked> コンビニ</label>
    <label><input type="checkbox" class="cat" value="supermarket" checked> スーパー</label>
    <label><input type="checkbox" class="cat" value="drugstore" checked> ドラッグ</label>
    <label><input type="checkbox" class="cat" value="restaurant" checked> 飲食</label>
    <label><input type="checkbox" class="cat" value="cafe" checked> カフェ</label>
    <label><input type="checkbox" class="cat" value="other" checked> その他</label>
  </section>
  <div id="map"></div>
  <div class="legend">
    <span class="dot dot-hot"></span>キャンペーン適用候補
    <span class="dot dot-cold"></span>通常店舗
  </div>
  <div id="toast" class="toast" role="status" aria-live="polite"></div>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin="anonymous" defer></script>
  <script src="app.js?v=evt1" defer></script>
</body>
</html>
